!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function t(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"9PJG":function(e,o,i){"use strict";i.r(o),i.d(o,"SigninPageModule",(function(){return S}));var r,c,s,a=i("ofXK"),u=i("3Pt+"),l=i("TEn/"),b=i("tyNb"),p=i("mrSG"),d=i("fXoL"),m=["*"],f=((c=function(){function e(t){n(this,e),this.modalCtrl=t}return t(e,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){this.modalCtrl.dismiss()}}]),e}()).\u0275fac=function(n){return new(n||c)(d.Hb(l.G))},c.\u0275cmp=d.Bb({type:c,selectors:[["app-modal-flex-end"]],ngContentSelectors:m,decls:4,vars:0,consts:[[1,"content-central"],[1,"stretch",3,"click"]],template:function(n,e){1&n&&(d.bc(),d.Mb(0,"ion-content"),d.Mb(1,"div",0),d.Mb(2,"div",1),d.Ub("click",(function(){return e.close()})),d.Lb(),d.ac(3),d.Lb(),d.Lb())},directives:[l.k],styles:["[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:transparent}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .stretch[_ngcontent-%COMP%]{min-height:80px}@media screen and (min-width:768px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .stretch[_ngcontent-%COMP%]{display:none;min-height:0;flex-grow:0}}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]{min-height:100%;display:flex;flex-direction:column;justify-content:flex-end;overflow-y:auto}@media screen and (min-width:768px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]{min-height:auto}}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]  .card-content{padding-bottom:0}@media screen and (min-width:768px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]  .card-content{border-radius:25px}}"]}),c),g=((r=function(){function e(t){n(this,e),this.modalCtrl=t}return t(e,[{key:"closeModal",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalCtrl.dismiss(null);case 2:case"end":return n.stop()}}),n,this)})))}}]),e}()).\u0275fac=function(n){return new(n||r)(d.Hb(l.G))},r.\u0275cmp=d.Bb({type:r,selectors:[["app-info-page"]],inputs:{description:"description"},decls:9,vars:1,consts:[[1,"card-content","ion-padding"],["slot","end","fill","clear",3,"click"]],template:function(n,e){1&n&&(d.Mb(0,"app-modal-flex-end"),d.Mb(1,"div",0),d.Mb(2,"div"),d.Mb(3,"ion-label"),d.jc(4,"INFO"),d.Lb(),d.Mb(5,"ion-button",1),d.Ub("click",(function(){return e.closeModal()})),d.jc(6,"Close"),d.Lb(),d.Lb(),d.Mb(7,"div"),d.jc(8),d.Lb(),d.Lb(),d.Lb()),2&n&&(d.xb(8),d.kc(e.description))},directives:[f,l.p,l.e],styles:[""]}),r),h=i("skkq"),v=((s=function(){function e(t){n(this,e),this.modalCtrl=t}return t(e,[{key:"openModal",value:function(n){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create(Object.assign({component:n.component,cssClass:"modal-flex-end"},n));case 2:return t=e.sent,e.abrupt("return",(t.present(),t));case 4:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(n){return new(n||s)(d.Qb(l.G))},s.\u0275prov=d.Db({token:s,factory:s.\u0275fac,providedIn:"root"}),s);function M(n,e){if(1&n&&(d.Mb(0,"div",1),d.Ib(1,"ion-icon",3),d.jc(2),d.Lb()),2&n){var t=d.Wb().$implicit;d.xb(2),d.lc(" ",t.message," ")}}function y(n,e){if(1&n&&(d.Kb(0),d.ic(1,M,3,1,"div",0),d.Jb()),2&n){var t=e.$implicit,o=d.Wb(2);d.xb(1),d.cc("ngIf",o.control.hasError(t.type)&&(o.control.dirty||o.control.touched))}}function w(n,e){if(1&n&&(d.Mb(0,"div",1),d.ic(1,y,2,1,"ng-container",2),d.Lb()),2&n){var t=d.Wb();d.xb(1),d.cc("ngForOf",t.VALIDATION_MESSAGES[t.type])}}var C,O,k,x,L=((C=function(){function e(){n(this,e),this.VALIDATION_MESSAGES={username:[{type:"required",message:"Ce champs est requis."}],password:[{type:"required",message:"Ce champs est requis."},{type:"pattern",message:"Le champs doit contenir au moins 8 caract\xe8res."}]}}return t(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(n){return new(n||C)},C.\u0275cmp=d.Bb({type:C,selectors:[["app-print-error"]],inputs:{control:"control",type:"type"},decls:1,vars:1,consts:[["class","error-message",4,"ngIf"],[1,"error-message"],[4,"ngFor","ngForOf"],["name","information-circle-outline"]],template:function(n,e){1&n&&d.ic(0,w,2,1,"div",0),2&n&&d.cc("ngIf",e.control.invalid&&(e.control.dirty||e.control.touched))},directives:[a.j,a.i,l.m],styles:[".error-message[_ngcontent-%COMP%]{color:#f33;font-size:14px;margin-top:10px}"]}),C),P=i("sYmb"),_=[{path:"",component:(O=function(){function e(t,o,i,r){n(this,e),this.authService=t,this.fb=o,this.loadingCtrl=i,this.modalService=r}return t(e,[{key:"ngOnInit",value:function(){this.loginForm=this.fb.group({username:["",[u.j.required,u.j.minLength(2)]],password:["",[u.j.required,u.j.minLength(2)]]})}},{key:"ngOnDestroy",value:function(){this.authLoginSub&&this.authLoginSub.unsubscribe()}},{key:"onSubmit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,t,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadingCtrl.create({spinner:"dots",message:"Loading"});case 2:return e=n.sent,n.next=5,e.present();case 5:t={username:this.loginForm.get("username").value,password:this.loginForm.get("password").value},this.authLoginSub=this.authService.login(t.username,t.password).subscribe((function(n){var t=n.token||null,i=new Date(n.expires);o.authService.performLogin(t,i),e.dismiss()}),(function(n){o.loginErrors=n.error.detail,e.dismiss()}));case 7:case"end":return n.stop()}}),n,this)})))}},{key:"openInfoPageModal",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalService.openModal({component:g,componentProps:{description:"Login in with username: user and password: ionic"}});case 2:n.sent.onDidDismiss().then((function(n){return Object(p.a)(e,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("close modal");case 1:case"end":return n.stop()}}),n)})))}));case 3:case"end":return n.stop()}}),n,this)})))}}]),e}(),O.\u0275fac=function(n){return new(n||O)(d.Hb(h.a),d.Hb(u.a),d.Hb(l.F),d.Hb(v))},O.\u0275cmp=d.Bb({type:O,selectors:[["app-signin"]],decls:24,vars:7,consts:[[1,"flex-form"],[1,"logo","ion-text-center"],["name","chatbubbles-outline","size","large"],[1,"stretch"],[3,"formGroup","ngSubmit"],["formControlName","username","type","text"],["type","username",3,"control"],["formControlName","password","type","password"],["type","password",3,"control"],["type","submit","fill","solid","color","primary","expand","full",3,"disabled"],["routerLink","/signup"],["fill","clear",3,"click"],["slot","icon-only","name","information-circle-outline","size","large"]],template:function(n,e){1&n&&(d.Mb(0,"ion-content"),d.Mb(1,"div",0),d.Mb(2,"div",1),d.Ib(3,"ion-icon",2),d.Lb(),d.Ib(4,"div",3),d.Mb(5,"form",4),d.Ub("ngSubmit",(function(){return e.onSubmit()})),d.Mb(6,"ion-list"),d.Mb(7,"ion-item"),d.Mb(8,"ion-label"),d.jc(9,"Username"),d.Lb(),d.Ib(10,"ion-input",5),d.Lb(),d.Ib(11,"app-print-error",6),d.Mb(12,"ion-item"),d.Mb(13,"ion-label"),d.jc(14,"Password"),d.Lb(),d.Ib(15,"ion-input",7),d.Lb(),d.Ib(16,"app-print-error",8),d.Mb(17,"ion-button",9),d.jc(18," LOGIN "),d.Lb(),d.Lb(),d.Lb(),d.Mb(19,"a",10),d.jc(20),d.Xb(21,"translate"),d.Lb(),d.Mb(22,"ion-button",11),d.Ub("click",(function(){return e.openInfoPageModal()})),d.Ib(23,"ion-icon",12),d.Lb(),d.Lb(),d.Lb()),2&n&&(d.xb(5),d.cc("formGroup",e.loginForm),d.xb(6),d.cc("control",e.loginForm.get("username")),d.xb(5),d.cc("control",e.loginForm.get("password")),d.xb(1),d.cc("disabled",e.loginForm.invalid),d.xb(3),d.kc(d.Yb(21,5,"signin.linkSignupPage")))},directives:[l.k,l.m,u.k,u.h,u.c,l.q,l.o,l.p,l.n,l.K,u.g,u.b,L,l.e,b.j,l.J],pipes:[P.c],styles:["ion-content[_ngcontent-%COMP%]{height:100%;--background:#ff8c00}"]}),O)}],j=((k=function e(){n(this,e)}).\u0275mod=d.Fb({type:k}),k.\u0275inj=d.Eb({factory:function(n){return new(n||k)},imports:[[b.k.forChild(_)],b.k]}),k),I=i("PCNd"),S=((x=function e(){n(this,e)}).\u0275mod=d.Fb({type:x}),x.\u0275inj=d.Eb({factory:function(n){return new(n||x)},imports:[[a.b,u.d,l.D,u.i,j,P.b,I.a]]}),x)}}])}();