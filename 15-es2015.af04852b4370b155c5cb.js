(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{TUkU:function(t,e,n){"use strict";n.r(e),n.d(e,"Tab2PageModule",function(){return Y});var s=n("TEn/"),o=n("ofXK"),i=n("3Pt+"),a=n("tyNb"),r=n("fXoL"),c=n("mrSG"),l=n("2Vo4"),b=n("kwrG"),u=function(t){return t[t.Online=0]="Online",t[t.Offline=1]="Offline",t}({});let d=(()=>{class t{constructor(t,e,n){this.network=t,this.toastController=e,this.plt=n,this.status=new l.a(u.Offline),this.plt.ready().then(()=>{this.initializeNetworkEvents(),this.status.next("none"!==this.network.type?u.Online:u.Offline)})}initializeNetworkEvents(){this.network.onDisconnect().subscribe(()=>{this.status.getValue()===u.Online&&(console.log("WE ARE OFFLINE"),this.updateNetworkStatus(u.Offline))}),this.network.onConnect().subscribe(()=>{this.status.getValue()===u.Offline&&(console.log("WE ARE ONLINE"),this.updateNetworkStatus(u.Online))})}updateNetworkStatus(t){return Object(c.a)(this,void 0,void 0,function*(){this.status.next(t);const e=t===u.Offline?"Offline":"Online";(yield this.toastController.create({message:"You are now "+e,duration:3e3,position:"bottom"})).present()})}onNetworkChange(){return this.status.asObservable()}getCurrentNetworkStatus(){return this.status.getValue()}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(b.a),r.Rb(s.L),r.Rb(s.H))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=n("Cfvw"),p=n("LRne"),f=n("lJxs"),g=n("vkgz"),v=n("JIr8"),O=n("YAbo"),N=n("tk/3"),k=n("e8h1"),m=n("cp0P"),w=n("eIep"),y=n("nYR2");let E=(()=>{class t{constructor(t,e,n){this.storage=t,this.http=e,this.toastController=n}checkForEvents(){return Object(h.a)(this.storage.get("agenda-app")).pipe(Object(w.a)(t=>{const e=JSON.parse(t);return e&&e.length>0?this.sendRequests(e).pipe(Object(y.a)(()=>Object(c.a)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Local data succesfully synced to API!",duration:3e3,position:"bottom"})).present(),this.storage.remove("agenda-app")}))):(console.log("no local events to sync"),Object(p.a)(!1))}))}storeRequest(t,e,n){return Object(c.a)(this,void 0,void 0,function*(){(yield this.toastController.create({message:"Your data is stored locally because you seem to be offline.",duration:3e3,position:"bottom"})).present();const s={url:t,type:e,data:n,time:(new Date).getTime(),id:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)};return this.storage.get("agenda-app").then(t=>{let e=JSON.parse(t);return e?e.push(s):e=[s],this.storage.set("agenda-app",JSON.stringify(e))})})}sendRequests(t){const e=[];for(const n of t){console.log("Make one request: ",n);const t=this.http.request(n.type,n.url,n.data);e.push(t)}return Object(m.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(k.b),r.Rb(N.b),r.Rb(s.L))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),M=(()=>{class t{constructor(t,e,n,s){this.http=t,this.networkService=e,this.storage=n,this.offlineManager=s}getEvents(t=!1){return this.networkService.getCurrentNetworkStatus()!==u.Offline&&t?this.http.get(O.b+"/events/events").pipe(Object(f.a)(t=>t),Object(g.a)(t=>{this.log("fetched events"),this.setLocalData("events",t)}),Object(v.a)(this.handleError("getEvents",[]))):Object(h.a)(this.getLocalData("categories"))}handleError(t="operation",e){return n=>(console.error(n),this.log(`${t} failed: ${n.message}`),Object(p.a)(e))}log(t){console.log(t)}setLocalData(t,e){this.storage.set(`${O.a}-${t}`,e)}getLocalData(t){return this.storage.get(`${O.a}-${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(N.b),r.Rb(d),r.Rb(k.b),r.Rb(E))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var D=n("o5fY"),j=n("uqhk");function R(t,e){if(1&t&&(r.Nb(0,"div"),r.Nb(1,"div"),r.Nb(2,"ion-label"),r.kc(3),r.Yb(4,"date"),r.Mb(),r.Nb(5,"ion-label"),r.kc(6),r.Yb(7,"date"),r.Mb(),r.Mb(),r.Mb()),2&t){const t=e.$implicit;r.yb(3),r.lc(r.ac(4,2,t,"d","fr")),r.yb(3),r.lc(r.ac(7,6,t,"EEEE","fr"))}}function C(t,e){1&t&&(r.Nb(0,"ion-item"),r.Nb(1,"ion-avatar",6),r.Jb(2,"img",7),r.Mb(),r.Nb(3,"ion-label"),r.Nb(4,"h3"),r.kc(5,"On the politics of experience"),r.Mb(),r.Nb(6,"p"),r.kc(7,"Loren Williams"),r.Mb(),r.Nb(8,"p"),r.Jb(9,"ion-icon",8),r.kc(10," 45 min "),r.Mb(),r.Mb(),r.Mb())}const S=function(){return[1,2]};function I(t,e){1&t&&(r.Nb(0,"ion-card"),r.Nb(1,"ion-item",5),r.Nb(2,"ion-label"),r.Nb(3,"h5"),r.kc(4,"10:00 AM"),r.Mb(),r.Mb(),r.Mb(),r.jc(5,C,11,0,"ion-item",3),r.Mb()),2&t&&(r.yb(5),r.dc("ngForOf",r.ec(1,S)))}const L=function(){return[1,2,3,4]},A=[{path:"",component:(()=>{class t{constructor(t,e,n){this.eventDataService=t,this.datePipe=e,this.router=n,this.dateBeginActive=(new Date).getDay(),this.countWeek=1,this.countselect=0}ngOnInit(){this.initializeDates()}initializeDates(){this.dateBegin=this.getPreviousMonday(),this.dateEnd=new Date(this.dateBegin),this.dateEnd.setDate(this.dateEnd.getDate()+6),this.dates=[];const t=this.dateBegin,e=this.dateEnd;for(e.setDate(e.getDate()+60);t<=e;)this.dates.push(new Date(t)),t.setDate(t.getDate()+1)}getPreviousMonday(){const t=new Date;return t.setDate(t.getDate()-(t.getDay()+6)%7),t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(M),r.Ib(o.d),r.Ib(a.g))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-tab2"]],decls:9,vars:4,consts:[[3,"fullscreen"],["title","AGENDA"],[1,"header"],[4,"ngFor","ngForOf"],[1,"events"],["lines","none"],["slot","start"],["src","./assets/images/loren-williams.jpeg"],["name","time","size","small"]],template:function(t,e){1&t&&(r.Nb(0,"app-custom-header"),r.kc(1,"AGENDA"),r.Mb(),r.Nb(2,"ion-content",0),r.Nb(3,"app-custom-content",1),r.Nb(4,"div",2),r.Nb(5,"nav"),r.jc(6,R,8,10,"div",3),r.Mb(),r.Mb(),r.Nb(7,"div",4),r.jc(8,I,6,2,"ion-card",3),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.yb(2),r.dc("fullscreen",!0),r.yb(4),r.dc("ngForOf",e.dates),r.yb(2),r.dc("ngForOf",r.ec(3,L)))},directives:[D.a,s.k,j.a,o.i,s.p,s.g,s.o,s.b,s.m],pipes:[o.d],styles:[""]}),t})()}];let F=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[a.k.forChild(A)],a.k]}),t})();var J=n("sYmb"),P=n("PCNd");let Y=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[o.d],imports:[[s.D,o.b,i.d,F,J.b,P.a]]}),t})()}}]);