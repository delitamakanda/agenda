(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"9PJG":function(n,t,e){"use strict";e.r(t),e.d(t,"SigninPageModule",(function(){return O}));var o=e("ofXK"),i=e("3Pt+"),r=e("TEn/"),c=e("tyNb"),s=e("mrSG"),a=e("fXoL");const l=["*"];let d=(()=>{class n{constructor(n){this.modalCtrl=n}ngOnInit(){}close(){this.modalCtrl.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(a.Hb(r.G))},n.\u0275cmp=a.Bb({type:n,selectors:[["app-modal-flex-end"]],ngContentSelectors:l,decls:4,vars:0,consts:[[1,"content-central"],[1,"stretch",3,"click"]],template:function(n,t){1&n&&(a.bc(),a.Mb(0,"ion-content"),a.Mb(1,"div",0),a.Mb(2,"div",1),a.Ub("click",(function(){return t.close()})),a.Lb(),a.ac(3),a.Lb(),a.Lb())},directives:[r.k],styles:["[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:transparent}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .stretch[_ngcontent-%COMP%]{min-height:80px}@media screen and (min-width:768px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .stretch[_ngcontent-%COMP%]{display:none;min-height:0;flex-grow:0}}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]{min-height:100%;display:flex;flex-direction:column;justify-content:flex-end;overflow-y:auto}@media screen and (min-width:768px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]{min-height:auto}}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]  .card-content{padding-bottom:0}@media screen and (min-width:768px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]  .card-content{border-radius:25px}}"]}),n})(),b=(()=>{class n{constructor(n){this.modalCtrl=n}closeModal(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.modalCtrl.dismiss(null)}))}}return n.\u0275fac=function(t){return new(t||n)(a.Hb(r.G))},n.\u0275cmp=a.Bb({type:n,selectors:[["app-info-page"]],inputs:{description:"description"},decls:9,vars:1,consts:[[1,"card-content","ion-padding"],["slot","end","fill","clear",3,"click"]],template:function(n,t){1&n&&(a.Mb(0,"app-modal-flex-end"),a.Mb(1,"div",0),a.Mb(2,"div"),a.Mb(3,"ion-label"),a.jc(4,"INFO"),a.Lb(),a.Mb(5,"ion-button",1),a.Ub("click",(function(){return t.closeModal()})),a.jc(6,"Close"),a.Lb(),a.Lb(),a.Mb(7,"div"),a.jc(8),a.Lb(),a.Lb(),a.Lb()),2&n&&(a.xb(8),a.kc(t.description))},directives:[d,r.p,r.e],styles:[""]}),n})();var u=e("skkq");let p=(()=>{class n{constructor(n){this.modalCtrl=n}openModal(n){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.modalCtrl.create(Object.assign({component:n.component,cssClass:"modal-flex-end"},n));return t.present(),t}))}}return n.\u0275fac=function(t){return new(t||n)(a.Qb(r.G))},n.\u0275prov=a.Db({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function m(n,t){if(1&n&&(a.Mb(0,"div",1),a.Ib(1,"ion-icon",3),a.jc(2),a.Lb()),2&n){const n=a.Wb().$implicit;a.xb(2),a.lc(" ",n.message," ")}}function g(n,t){if(1&n&&(a.Kb(0),a.ic(1,m,3,1,"div",0),a.Jb()),2&n){const n=t.$implicit,e=a.Wb(2);a.xb(1),a.cc("ngIf",e.control.hasError(n.type)&&(e.control.dirty||e.control.touched))}}function f(n,t){if(1&n&&(a.Mb(0,"div",1),a.ic(1,g,2,1,"ng-container",2),a.Lb()),2&n){const n=a.Wb();a.xb(1),a.cc("ngForOf",n.VALIDATION_MESSAGES[n.type])}}let h=(()=>{class n{constructor(){this.VALIDATION_MESSAGES={username:[{type:"required",message:"Ce champs est requis."}],password:[{type:"required",message:"Ce champs est requis."},{type:"pattern",message:"Le champs doit contenir au moins 8 caract\xe8res."}]}}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Bb({type:n,selectors:[["app-print-error"]],inputs:{control:"control",type:"type"},decls:1,vars:1,consts:[["class","error-message",4,"ngIf"],[1,"error-message"],[4,"ngFor","ngForOf"],["name","information-circle-outline"]],template:function(n,t){1&n&&a.ic(0,f,2,1,"div",0),2&n&&a.cc("ngIf",t.control.invalid&&(t.control.dirty||t.control.touched))},directives:[o.j,o.i,r.m],styles:[".error-message[_ngcontent-%COMP%]{color:#f33;font-size:14px;margin-top:10px}"]}),n})();var M=e("sYmb");const v=[{path:"",component:(()=>{class n{constructor(n,t,e,o){this.authService=n,this.fb=t,this.loadingCtrl=e,this.modalService=o}ngOnInit(){this.loginForm=this.fb.group({username:["",[i.j.required,i.j.minLength(2)]],password:["",[i.j.required,i.j.minLength(2)]]})}ngOnDestroy(){this.authLoginSub&&this.authLoginSub.unsubscribe()}onSubmit(){return Object(s.a)(this,void 0,void 0,(function*(){const n=yield this.loadingCtrl.create({spinner:"dots",message:"Loading"});yield n.present();const t={username:this.loginForm.get("username").value,password:this.loginForm.get("password").value};this.authLoginSub=this.authService.login(t.username,t.password).subscribe(t=>{const e=t.token||null,o=new Date(t.expires);this.authService.performLogin(e,o),n.dismiss()},t=>{this.loginErrors=t.error.detail,n.dismiss()})}))}openInfoPageModal(){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.modalService.openModal({component:b,componentProps:{description:"Login in with username: user and password: ionic"}})).onDidDismiss().then(n=>Object(s.a)(this,void 0,void 0,(function*(){console.log("close modal")})))}))}}return n.\u0275fac=function(t){return new(t||n)(a.Hb(u.a),a.Hb(i.a),a.Hb(r.F),a.Hb(p))},n.\u0275cmp=a.Bb({type:n,selectors:[["app-signin"]],decls:24,vars:7,consts:[[1,"flex-form"],[1,"logo","ion-text-center"],["name","chatbubbles-outline","size","large"],[1,"stretch"],[3,"formGroup","ngSubmit"],["formControlName","username","type","text"],["type","username",3,"control"],["formControlName","password","type","password"],["type","password",3,"control"],["type","submit","fill","solid","color","primary","expand","full",3,"disabled"],["routerLink","/signup"],["fill","clear",3,"click"],["slot","icon-only","name","information-circle-outline","size","large"]],template:function(n,t){1&n&&(a.Mb(0,"ion-content"),a.Mb(1,"div",0),a.Mb(2,"div",1),a.Ib(3,"ion-icon",2),a.Lb(),a.Ib(4,"div",3),a.Mb(5,"form",4),a.Ub("ngSubmit",(function(){return t.onSubmit()})),a.Mb(6,"ion-list"),a.Mb(7,"ion-item"),a.Mb(8,"ion-label"),a.jc(9,"Username"),a.Lb(),a.Ib(10,"ion-input",5),a.Lb(),a.Ib(11,"app-print-error",6),a.Mb(12,"ion-item"),a.Mb(13,"ion-label"),a.jc(14,"Password"),a.Lb(),a.Ib(15,"ion-input",7),a.Lb(),a.Ib(16,"app-print-error",8),a.Mb(17,"ion-button",9),a.jc(18," LOGIN "),a.Lb(),a.Lb(),a.Lb(),a.Mb(19,"a",10),a.jc(20),a.Xb(21,"translate"),a.Lb(),a.Mb(22,"ion-button",11),a.Ub("click",(function(){return t.openInfoPageModal()})),a.Ib(23,"ion-icon",12),a.Lb(),a.Lb(),a.Lb()),2&n&&(a.xb(5),a.cc("formGroup",t.loginForm),a.xb(6),a.cc("control",t.loginForm.get("username")),a.xb(5),a.cc("control",t.loginForm.get("password")),a.xb(1),a.cc("disabled",t.loginForm.invalid),a.xb(3),a.kc(a.Yb(21,5,"signin.linkSignupPage")))},directives:[r.k,r.m,i.k,i.h,i.c,r.q,r.o,r.p,r.n,r.K,i.g,i.b,h,r.e,c.j,r.J],pipes:[M.c],styles:["ion-content[_ngcontent-%COMP%]{height:100%;--background:#ff8c00}"]}),n})()}];let y=(()=>{class n{}return n.\u0275mod=a.Fb({type:n}),n.\u0275inj=a.Eb({factory:function(t){return new(t||n)},imports:[[c.k.forChild(v)],c.k]}),n})();var C=e("PCNd");let O=(()=>{class n{}return n.\u0275mod=a.Fb({type:n}),n.\u0275inj=a.Eb({factory:function(t){return new(t||n)},imports:[[o.b,i.d,r.D,i.i,y,M.b,C.a]]}),n})()}}]);