function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"9PJG":function(n,e,t){"use strict";t.r(e);var o,r,c,i=t("ofXK"),s=t("3Pt+"),a=t("c7TG"),l=t("tyNb"),u=t("mrSG"),d=t("skkq"),p=t("fXoL"),f=["*"],m=((c=function(){function n(e){_classCallCheck(this,n),this.modalCtrl=e}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){this.modalCtrl.dismiss()}}]),n}()).\u0275fac=function(n){return new(n||c)(p.Wb(a.E))},c.\u0275cmp=p.Qb({type:c,selectors:[["app-modal-flex-end"]],ngContentSelectors:f,decls:4,vars:0,consts:[[1,"content-central"],[1,"stretch",3,"click"]],template:function(n,e){1&n&&(p.qc(),p.bc(0,"ion-content"),p.bc(1,"div",0),p.bc(2,"div",1),p.jc("click",(function(){return e.close()})),p.ac(),p.pc(3),p.ac(),p.ac())},directives:[a.i],styles:["[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{--background:transparent}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .stretch[_ngcontent-%COMP%]{min-height:80px}@media screen and (min-width:768px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .stretch[_ngcontent-%COMP%]{display:none;min-height:0;flex-grow:0}}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]{min-height:100%;display:flex;flex-direction:column;justify-content:flex-end;overflow-y:auto}@media screen and (min-width:768px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]{min-height:auto}}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]  .card-content{padding-bottom:0}@media screen and (min-width:768px){[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]   .content-central[_ngcontent-%COMP%]  .card-content{border-radius:25px}}"]}),c),g=((r=function(){function n(e){_classCallCheck(this,n),this.modalCtrl=e}return _createClass(n,[{key:"closeModal",value:function(){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalCtrl.dismiss(null);case 2:case"end":return n.stop()}}),n,this)})))}}]),n}()).\u0275fac=function(n){return new(n||r)(p.Wb(a.E))},r.\u0275cmp=p.Qb({type:r,selectors:[["app-info-page"]],inputs:{description:"description"},decls:9,vars:1,consts:[[1,"card-content","ion-padding"],["slot","end","fill","clear",3,"click"]],template:function(n,e){1&n&&(p.bc(0,"app-modal-flex-end"),p.bc(1,"div",0),p.bc(2,"div"),p.bc(3,"ion-label"),p.yc(4,"INFO"),p.ac(),p.bc(5,"ion-button",1),p.jc("click",(function(){return e.closeModal()})),p.yc(6,"Close"),p.ac(),p.ac(),p.bc(7,"div"),p.yc(8),p.ac(),p.ac(),p.ac()),2&n&&(p.Mb(8),p.zc(e.description))},directives:[m,a.n,a.c],styles:[""]}),r),b=((o=function(){function n(e){_classCallCheck(this,n),this.modalCtrl=e}return _createClass(n,[{key:"openModal",value:function(n){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create(Object.assign({component:n.component,cssClass:"modal-flex-end"},n));case 2:return t=e.sent,e.abrupt("return",(t.present(),t));case 4:case"end":return e.stop()}}),e,this)})))}}]),n}()).\u0275fac=function(n){return new(n||o)(p.fc(a.E))},o.\u0275prov=p.Sb({token:o,factory:o.\u0275fac,providedIn:"root"}),o);function h(n,e){if(1&n&&(p.bc(0,"div",1),p.Xb(1,"ion-icon",3),p.yc(2),p.ac()),2&n){var t=p.lc().$implicit;p.Mb(2),p.Ac(" ",t.message," ")}}function v(n,e){if(1&n&&(p.Zb(0),p.xc(1,h,3,1,"div",0),p.Yb()),2&n){var t=e.$implicit,o=p.lc(2);p.Mb(1),p.rc("ngIf",o.control.hasError(t.type)&&(o.control.dirty||o.control.touched))}}function C(n,e){if(1&n&&(p.bc(0,"div",1),p.xc(1,v,2,1,"ng-container",2),p.ac()),2&n){var t=p.lc();p.Mb(1),p.rc("ngForOf",t.VALIDATION_MESSAGES[t.type])}}var y,w,_,k=((y=function(){function n(){_classCallCheck(this,n),this.VALIDATION_MESSAGES={username:[{type:"required",message:"Ce champs est requis."}],password:[{type:"required",message:"Ce champs est requis."},{type:"pattern",message:"Le champs doit contenir au moins 8 caract\xe8res."}]}}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}()).\u0275fac=function(n){return new(n||y)},y.\u0275cmp=p.Qb({type:y,selectors:[["app-print-error"]],inputs:{control:"control",type:"type"},decls:1,vars:1,consts:[["class","error-message",4,"ngIf"],[1,"error-message"],[4,"ngFor","ngForOf"],["name","information-circle-outline"]],template:function(n,e){1&n&&p.xc(0,C,2,1,"div",0),2&n&&p.rc("ngIf",e.control.invalid&&(e.control.dirty||e.control.touched))},directives:[i.j,i.i,a.k],styles:[".error-message[_ngcontent-%COMP%]{color:#f33;font-size:14px;margin-top:10px}"]}),y),M=t("sYmb"),O=[{path:"",component:(w=function(){function n(e,t,o,r){_classCallCheck(this,n),this.authService=e,this.fb=t,this.loadingCtrl=o,this.modalService=r}return _createClass(n,[{key:"ngOnInit",value:function(){this.loginForm=this.fb.group({username:["",[s.i.required,s.i.minLength(2)]],password:["",[s.i.required,s.i.minLength(2)]]})}},{key:"ngOnDestroy",value:function(){this.authLoginSub&&this.authLoginSub.unsubscribe()}},{key:"onSubmit",value:function(){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,t,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadingCtrl.create({spinner:"dots",message:"Loading"});case 2:return e=n.sent,n.next=5,e.present();case 5:t={username:this.loginForm.get("username").value,password:this.loginForm.get("password").value},this.authLoginSub=this.authService.login(t.username,t.password).subscribe((function(n){var t=n.token||null,r=new Date(n.expires);o.authService.performLogin(t,r),e.dismiss()}),(function(n){o.loginErrors=n.error.detail,e.dismiss()}));case 7:case"end":return n.stop()}}),n,this)})))}},{key:"openInfoPageModal",value:function(){return Object(u.b)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalService.openModal({component:g,componentProps:{description:"Login in with username: user and password: ionic"}});case 2:n.sent.onDidDismiss().then((function(n){return Object(u.b)(e,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("close modal");case 1:case"end":return n.stop()}}),n)})))}));case 3:case"end":return n.stop()}}),n,this)})))}}]),n}(),w.\u0275fac=function(n){return new(n||w)(p.Wb(d.a),p.Wb(s.a),p.Wb(a.D),p.Wb(b))},w.\u0275cmp=p.Qb({type:w,selectors:[["app-signin"]],decls:24,vars:7,consts:[[1,"flex-form"],[1,"logo","ion-text-center"],["name","chatboxes","size","large"],[1,"stretch"],[3,"formGroup","ngSubmit"],["formControlName","username","type","text"],["type","username",3,"control"],["formControlName","password","type","password"],["type","password",3,"control"],["type","submit","fill","solid","color","primary","expand","full",3,"disabled"],["routerLink","/signup"],["fill","clear",3,"click"],["slot","icon-only","name","information-circle-outline","size","large"]],template:function(n,e){1&n&&(p.bc(0,"ion-content"),p.bc(1,"div",0),p.bc(2,"div",1),p.Xb(3,"ion-icon",2),p.ac(),p.Xb(4,"div",3),p.bc(5,"form",4),p.jc("ngSubmit",(function(){return e.onSubmit()})),p.bc(6,"ion-list"),p.bc(7,"ion-item"),p.bc(8,"ion-label"),p.yc(9,"Username"),p.ac(),p.Xb(10,"ion-input",5),p.ac(),p.Xb(11,"app-print-error",6),p.bc(12,"ion-item"),p.bc(13,"ion-label"),p.yc(14,"Password"),p.ac(),p.Xb(15,"ion-input",7),p.ac(),p.Xb(16,"app-print-error",8),p.bc(17,"ion-button",9),p.yc(18," LOGIN "),p.ac(),p.ac(),p.ac(),p.bc(19,"a",10),p.yc(20),p.mc(21,"translate"),p.ac(),p.bc(22,"ion-button",11),p.jc("click",(function(){return e.openInfoPageModal()})),p.Xb(23,"ion-icon",12),p.ac(),p.ac(),p.ac()),2&n&&(p.Mb(5),p.rc("formGroup",e.loginForm),p.Mb(6),p.rc("control",e.loginForm.get("username")),p.Mb(5),p.rc("control",e.loginForm.get("password")),p.Mb(1),p.rc("disabled",e.loginForm.invalid),p.Mb(3),p.zc(p.nc(21,5,"signin.linkSignupPage")))},directives:[a.i,a.k,s.j,s.g,s.c,a.o,a.m,a.n,a.l,a.I,s.f,s.b,k,a.c,l.i,a.H],pipes:[M.c],styles:["ion-content[_ngcontent-%COMP%]{height:100%;--background:#ff8c00}"]}),w)}],P=((_=function n(){_classCallCheck(this,n)}).\u0275mod=p.Ub({type:_}),_.\u0275inj=p.Tb({factory:function(n){return new(n||_)},imports:[[l.j.forChild(O)],l.j]}),_),x=t("PCNd");t.d(e,"SigninPageModule",(function(){return j}));var S,j=((S=function n(){_classCallCheck(this,n)}).\u0275mod=p.Ub({type:S}),S.\u0275inj=p.Tb({factory:function(n){return new(n||S)},imports:[[i.b,s.d,a.B,s.h,P,M.b,x.a]]}),S)}}]);