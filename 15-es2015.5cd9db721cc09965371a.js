(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{TUkU:function(t,e,n){"use strict";n.r(e),n.d(e,"Tab2PageModule",(function(){return z}));var s=n("TEn/"),o=n("ofXK"),i=n("3Pt+"),a=n("tyNb"),r=n("fXoL"),c=n("mrSG"),l=n("2Vo4"),b=n("kwrG"),u=function(t){return t[t.Online=0]="Online",t[t.Offline=1]="Offline",t}({});let h=(()=>{class t{constructor(t,e,n){this.network=t,this.toastController=e,this.plt=n,this.status=new l.a(u.Offline),this.plt.ready().then(()=>{this.initializeNetworkEvents(),this.status.next("none"!==this.network.type?u.Online:u.Offline)})}initializeNetworkEvents(){this.network.onDisconnect().subscribe(()=>{this.status.getValue()===u.Online&&(console.log("WE ARE OFFLINE"),this.updateNetworkStatus(u.Offline))}),this.network.onConnect().subscribe(()=>{this.status.getValue()===u.Offline&&(console.log("WE ARE ONLINE"),this.updateNetworkStatus(u.Online))})}updateNetworkStatus(t){return Object(c.a)(this,void 0,void 0,(function*(){this.status.next(t),this.toastController.create({message:"You are now "+(t==u.Offline?"Offline":"Online"),duration:3e3,position:"bottom"}).then(t=>t.present())}))}onNetworkChange(){return this.status.asObservable()}getCurrentNetworkStatus(){return this.status.getValue()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(b.a),r.Qb(s.L),r.Qb(s.H))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n("Cfvw"),p=n("LRne"),f=n("lJxs"),g=n("vkgz"),v=n("JIr8"),O=n("YAbo"),m=n("tk/3"),w=n("e8h1"),k=n("cp0P"),L=n("eIep"),D=n("nYR2");let M=(()=>{class t{constructor(t,e,n){this.storage=t,this.http=e,this.toastController=n}checkForEvents(){return Object(d.a)(this.storage.get("agenda-app")).pipe(Object(L.a)(t=>{let e=JSON.parse(t);return e&&e.length>0?this.sendRequests(e).pipe(Object(D.a)(()=>{this.toastController.create({message:"Local data succesfully synced to API!",duration:3e3,position:"bottom"}).then(t=>t.present()),this.storage.remove("agenda-app")})):(console.log("no local events to sync"),Object(p.a)(!1))}))}storeRequest(t,e,n){this.toastController.create({message:"Your data is stored locally because you seem to be offline.",duration:3e3,position:"bottom"}).then(t=>t.present());let s={url:t,type:e,data:n,time:(new Date).getTime(),id:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)};return this.storage.get("agenda-app").then(t=>{let e=JSON.parse(t);return e?e.push(s):e=[s],this.storage.set("agenda-app",JSON.stringify(e))})}sendRequests(t){let e=[];for(let n of t){console.log("Make one request: ",n);let t=this.http.request(n.type,n.url,n.data);e.push(t)}return Object(k.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(w.b),r.Qb(m.b),r.Qb(s.L))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),E=(()=>{class t{constructor(t,e,n,s){this.http=t,this.networkService=e,this.storage=n,this.offlineManager=s}getEvents(t=!1){return this.networkService.getCurrentNetworkStatus()!=u.Offline&&t?this.http.get(O.b+"/events/events").pipe(Object(f.a)(t=>t),Object(g.a)(t=>{this.log("fetched events"),this.setLocalData("events",t)}),Object(v.a)(this.handleError("getEvents",[]))):Object(d.a)(this.getLocalData("categories"))}handleError(t="operation",e){return n=>(console.error(n),this.log(`${t} failed: ${n.message}`),Object(p.a)(e))}log(t){console.log(t)}setLocalData(t,e){this.storage.set(`${O.a}-${t}`,e)}getLocalData(t){return this.storage.get(`${O.a}-${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(m.b),r.Qb(h),r.Qb(w.b),r.Qb(M))},t.\u0275prov=r.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=n("o5fY"),j=n("uqhk");function N(t,e){if(1&t&&(r.Mb(0,"div"),r.Mb(1,"div"),r.Mb(2,"ion-label"),r.jc(3),r.Xb(4,"date"),r.Lb(),r.Mb(5,"ion-label"),r.jc(6),r.Xb(7,"date"),r.Lb(),r.Lb(),r.Lb()),2&t){const t=e.$implicit;r.xb(3),r.kc(r.Zb(4,2,t,"d","fr")),r.xb(3),r.kc(r.Zb(7,6,t,"EEEE","fr"))}}function S(t,e){1&t&&(r.Mb(0,"ion-item"),r.Mb(1,"ion-avatar",6),r.Ib(2,"img",7),r.Lb(),r.Mb(3,"ion-label"),r.Mb(4,"h3"),r.jc(5,"On the politics of experience"),r.Lb(),r.Mb(6,"p"),r.jc(7,"Loren Williams"),r.Lb(),r.Mb(8,"p"),r.Ib(9,"ion-icon",8),r.jc(10," 45 min "),r.Lb(),r.Lb(),r.Lb())}const C=function(){return[1,2]};function I(t,e){1&t&&(r.Mb(0,"ion-card"),r.Mb(1,"ion-item",5),r.Mb(2,"ion-label"),r.Mb(3,"h5"),r.jc(4,"10:00 AM"),r.Lb(),r.Lb(),r.Lb(),r.ic(5,S,11,0,"ion-item",3),r.Lb()),2&t&&(r.xb(5),r.cc("ngForOf",r.dc(1,C)))}const x=function(){return[1,2,3,4]},A=[{path:"",component:(()=>{class t{constructor(t,e,n){this.eventDataService=t,this.datePipe=e,this.router=n,this.dateBeginActive=(new Date).getDay(),this.countWeek=1,this.countselect=0}ngOnInit(){this.initializeDates()}initializeDates(){this.dateBegin=this.getPreviousMonday(),this.dateEnd=new Date(this.dateBegin),this.dateEnd.setDate(this.dateEnd.getDate()+6),this.dates=[];const t=this.dateBegin,e=this.dateEnd;for(e.setDate(e.getDate()+60);t<=e;)this.dates.push(new Date(t)),t.setDate(t.getDate()+1)}getPreviousMonday(){const t=new Date;return t.setDate(t.getDate()-(t.getDay()+6)%7),t}}return t.\u0275fac=function(e){return new(e||t)(r.Hb(E),r.Hb(o.d),r.Hb(a.g))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-tab2"]],decls:9,vars:4,consts:[[3,"fullscreen"],["title","AGENDA"],[1,"header"],[4,"ngFor","ngForOf"],[1,"events"],["lines","none"],["slot","start"],["src","./assets/images/loren-williams.jpeg"],["name","time","size","small"]],template:function(t,e){1&t&&(r.Mb(0,"app-custom-header"),r.jc(1,"AGENDA"),r.Lb(),r.Mb(2,"ion-content",0),r.Mb(3,"app-custom-content",1),r.Mb(4,"div",2),r.Mb(5,"nav"),r.ic(6,N,8,10,"div",3),r.Lb(),r.Lb(),r.Mb(7,"div",4),r.ic(8,I,6,2,"ion-card",3),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.xb(2),r.cc("fullscreen",!0),r.xb(4),r.cc("ngForOf",e.dates),r.xb(2),r.cc("ngForOf",r.dc(3,x)))},directives:[y.a,s.k,j.a,o.i,s.p,s.g,s.o,s.b,s.m],pipes:[o.d],styles:[""]}),t})()}];let F=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(e){return new(e||t)},imports:[[a.k.forChild(A)],a.k]}),t})();var Q=n("sYmb"),P=n("PCNd");let z=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(e){return new(e||t)},providers:[o.d],imports:[[s.D,o.b,i.d,F,Q.b,P.a]]}),t})()}}]);