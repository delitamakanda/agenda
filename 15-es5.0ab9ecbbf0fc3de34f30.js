!function(){function t(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return s=t.done,t},e:function(t){c=!0,i=t},f:function(){try{s||null==o.return||o.return()}finally{if(c)throw i}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{TUkU:function(e,o,a){"use strict";a.r(o),a.d(o,"Tab2PageModule",function(){return U});var i,s,c,u=a("TEn/"),l=a("ofXK"),f=a("3Pt+"),b=a("tyNb"),h=a("fXoL"),d=a("mrSG"),p=a("2Vo4"),v=a("kwrG"),g=function(t){return t[t.Online=0]="Online",t[t.Offline=1]="Offline",t}({}),y=((i=function(){function t(e,o,r){var a=this;n(this,t),this.network=e,this.toastController=o,this.plt=r,this.status=new p.a(g.Offline),this.plt.ready().then(function(){a.initializeNetworkEvents(),a.status.next("none"!==a.network.type?g.Online:g.Offline)})}return r(t,[{key:"initializeNetworkEvents",value:function(){var t=this;this.network.onDisconnect().subscribe(function(){t.status.getValue()===g.Online&&(console.log("WE ARE OFFLINE"),t.updateNetworkStatus(g.Offline))}),this.network.onConnect().subscribe(function(){t.status.getValue()===g.Offline&&(console.log("WE ARE ONLINE"),t.updateNetworkStatus(g.Online))})}},{key:"updateNetworkStatus",value:function(t){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.status.next(t),this.toastController.create({message:"You are now "+(t==g.Offline?"Offline":"Online"),duration:3e3,position:"bottom"}).then(function(t){return t.present()});case 1:case"end":return e.stop()}},e,this)}))}},{key:"onNetworkChange",value:function(){return this.status.asObservable()}},{key:"getCurrentNetworkStatus",value:function(){return this.status.getValue()}}]),t}()).\u0275fac=function(t){return new(t||i)(h.Rb(v.a),h.Rb(u.L),h.Rb(u.H))},i.\u0275prov=h.Eb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),k=a("Cfvw"),m=a("LRne"),w=a("lJxs"),O=a("vkgz"),N=a("JIr8"),E=a("YAbo"),M=a("tk/3"),D=a("e8h1"),j=a("cp0P"),R=a("eIep"),S=a("nYR2"),A=((c=function(){function e(t,o,r){n(this,e),this.storage=t,this.http=o,this.toastController=r}return r(e,[{key:"checkForEvents",value:function(){var t=this;return Object(k.a)(this.storage.get("agenda-app")).pipe(Object(R.a)(function(e){var n=JSON.parse(e);return n&&n.length>0?t.sendRequests(n).pipe(Object(S.a)(function(){t.toastController.create({message:"Local data succesfully synced to API!",duration:3e3,position:"bottom"}).then(function(t){return t.present()}),t.storage.remove("agenda-app")})):(console.log("no local events to sync"),Object(m.a)(!1))}))}},{key:"storeRequest",value:function(t,e,n){var o=this;this.toastController.create({message:"Your data is stored locally because you seem to be offline.",duration:3e3,position:"bottom"}).then(function(t){return t.present()});var r={url:t,type:e,data:n,time:(new Date).getTime(),id:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)};return this.storage.get("agenda-app").then(function(t){var e=JSON.parse(t);return e?e.push(r):e=[r],o.storage.set("agenda-app",JSON.stringify(e))})}},{key:"sendRequests",value:function(e){var n,o=[],r=t(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;console.log("Make one request: ",a);var i=this.http.request(a.type,a.url,a.data);o.push(i)}}catch(s){r.e(s)}finally{r.f()}return Object(j.a)(o)}}]),e}()).\u0275fac=function(t){return new(t||c)(h.Rb(D.b),h.Rb(M.b),h.Rb(u.L))},c.\u0275prov=h.Eb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),C=((s=function(){function t(e,o,r,a){n(this,t),this.http=e,this.networkService=o,this.storage=r,this.offlineManager=a}return r(t,[{key:"getEvents",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.networkService.getCurrentNetworkStatus()!=g.Offline&&e?this.http.get(E.b+"/events/events").pipe(Object(w.a)(function(t){return t}),Object(O.a)(function(e){t.log("fetched events"),t.setLocalData("events",e)}),Object(N.a)(this.handleError("getEvents",[]))):Object(k.a)(this.getLocalData("categories"))}},{key:"handleError",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"operation",n=arguments.length>1?arguments[1]:void 0;return function(o){return console.error(o),t.log("".concat(e," failed: ").concat(o.message)),Object(m.a)(n)}}},{key:"log",value:function(t){console.log(t)}},{key:"setLocalData",value:function(t,e){this.storage.set("".concat(E.a,"-").concat(t),e)}},{key:"getLocalData",value:function(t){return this.storage.get("".concat(E.a,"-").concat(t))}}]),t}()).\u0275fac=function(t){return new(t||s)(h.Rb(M.b),h.Rb(y),h.Rb(D.b),h.Rb(A))},s.\u0275prov=h.Eb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),I=a("o5fY"),L=a("uqhk");function F(t,e){if(1&t&&(h.Nb(0,"div"),h.Nb(1,"div"),h.Nb(2,"ion-label"),h.kc(3),h.Yb(4,"date"),h.Mb(),h.Nb(5,"ion-label"),h.kc(6),h.Yb(7,"date"),h.Mb(),h.Mb(),h.Mb()),2&t){var n=e.$implicit;h.yb(3),h.lc(h.ac(4,2,n,"d","fr")),h.yb(3),h.lc(h.ac(7,6,n,"EEEE","fr"))}}function J(t,e){1&t&&(h.Nb(0,"ion-item"),h.Nb(1,"ion-avatar",6),h.Jb(2,"img",7),h.Mb(),h.Nb(3,"ion-label"),h.Nb(4,"h3"),h.kc(5,"On the politics of experience"),h.Mb(),h.Nb(6,"p"),h.kc(7,"Loren Williams"),h.Mb(),h.Nb(8,"p"),h.Jb(9,"ion-icon",8),h.kc(10," 45 min "),h.Mb(),h.Mb(),h.Mb())}var P=function(){return[1,2]};function Y(t,e){1&t&&(h.Nb(0,"ion-card"),h.Nb(1,"ion-item",5),h.Nb(2,"ion-label"),h.Nb(3,"h5"),h.kc(4,"10:00 AM"),h.Mb(),h.Mb(),h.Mb(),h.jc(5,J,11,0,"ion-item",3),h.Mb()),2&t&&(h.yb(5),h.dc("ngForOf",h.ec(1,P)))}var z,q,x,G=function(){return[1,2,3,4]},T=[{path:"",component:(z=function(){function t(e,o,r){n(this,t),this.eventDataService=e,this.datePipe=o,this.router=r,this.dateBeginActive=(new Date).getDay(),this.countWeek=1,this.countselect=0}return r(t,[{key:"ngOnInit",value:function(){this.initializeDates()}},{key:"initializeDates",value:function(){this.dateBegin=this.getPreviousMonday(),this.dateEnd=new Date(this.dateBegin),this.dateEnd.setDate(this.dateEnd.getDate()+6),this.dates=[];var t=this.dateBegin,e=this.dateEnd;for(e.setDate(e.getDate()+60);t<=e;)this.dates.push(new Date(t)),t.setDate(t.getDate()+1)}},{key:"getPreviousMonday",value:function(){var t=new Date;return t.setDate(t.getDate()-(t.getDay()+6)%7),t}}]),t}(),z.\u0275fac=function(t){return new(t||z)(h.Ib(C),h.Ib(l.d),h.Ib(b.g))},z.\u0275cmp=h.Cb({type:z,selectors:[["app-tab2"]],decls:9,vars:4,consts:[[3,"fullscreen"],["title","AGENDA"],[1,"header"],[4,"ngFor","ngForOf"],[1,"events"],["lines","none"],["slot","start"],["src","./assets/images/loren-williams.jpeg"],["name","time","size","small"]],template:function(t,e){1&t&&(h.Nb(0,"app-custom-header"),h.kc(1,"AGENDA"),h.Mb(),h.Nb(2,"ion-content",0),h.Nb(3,"app-custom-content",1),h.Nb(4,"div",2),h.Nb(5,"nav"),h.jc(6,F,8,10,"div",3),h.Mb(),h.Mb(),h.Nb(7,"div",4),h.jc(8,Y,6,2,"ion-card",3),h.Mb(),h.Mb(),h.Mb()),2&t&&(h.yb(2),h.dc("fullscreen",!0),h.yb(4),h.dc("ngForOf",e.dates),h.yb(2),h.dc("ngForOf",h.ec(3,G)))},directives:[I.a,u.k,L.a,l.i,u.p,u.g,u.o,u.b,u.m],pipes:[l.d],styles:[""]}),z)}],B=((q=function t(){n(this,t)}).\u0275mod=h.Gb({type:q}),q.\u0275inj=h.Fb({factory:function(t){return new(t||q)},imports:[[b.k.forChild(T)],b.k]}),q),V=a("sYmb"),W=a("PCNd"),U=((x=function t(){n(this,t)}).\u0275mod=h.Gb({type:x}),x.\u0275inj=h.Fb({factory:function(t){return new(t||x)},providers:[l.d],imports:[[u.D,l.b,f.d,B,V.b,W.a]]}),x)}}])}();