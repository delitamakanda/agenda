function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{uB5f:function(t,e,n){"use strict";n.r(e);var r,a,o,i=n("c7TG"),c=n("tyNb"),s=n("ofXK"),u=n("3Pt+"),l=n("Cfvw"),f=n("LRne"),h=n("cp0P"),p=n("eIep"),d=n("nYR2"),b=n("fXoL"),v=n("e8h1"),g=n("tk/3"),y=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.storage=e,this.http=n,this.toastController=r}return _createClass(t,[{key:"checkForEvents",value:function(){var t=this;return Object(l.a)(this.storage.get("fanfiction-app")).pipe(Object(p.a)((function(e){var n=JSON.parse(e);return n&&n.length>0?t.sendRequests(n).pipe(Object(d.a)((function(){t.toastController.create({message:"Local data succesfully synced to API!",duration:3e3,position:"bottom"}).then((function(t){return t.present()})),t.storage.remove("fanfiction-app")}))):(console.log("no local events to sync"),Object(f.a)(!1))})))}},{key:"storeRequest",value:function(t,e,n){var r=this;this.toastController.create({message:"Your data is stored locally because you seem to be offline.",duration:3e3,position:"bottom"}).then((function(t){return t.present()}));var a={url:t,type:e,data:n,time:(new Date).getTime(),id:Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)};return this.storage.get("fanfiction-app").then((function(t){var e=JSON.parse(t);return e?e.push(a):e=[a],r.storage.set("fanfiction-app",JSON.stringify(e))}))}},{key:"sendRequests",value:function(t){var e,n=[],r=_createForOfIteratorHelper(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;console.log("Make one request: ",a);var o=this.http.request(a.type,a.url,a.data);n.push(o)}}catch(i){r.e(i)}finally{r.f()}return Object(h.a)(n)}}]),t}()).\u0275fac=function(t){return new(t||r)(b.fc(v.b),b.fc(g.b),b.fc(i.J))},r.\u0275prov=b.Sb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),k=n("mrSG"),m=n("kwrG"),w=n("2Vo4"),O=function(t){return t[t.Online=0]="Online",t[t.Offline=1]="Offline",t}({}),C=((a=function(){function t(e,n,r){var a=this;_classCallCheck(this,t),this.network=e,this.toastController=n,this.plt=r,this.status=new w.a(O.Offline),this.plt.ready().then((function(){a.initializeNetworkEvents(),a.status.next("none"!==a.network.type?O.Online:O.Offline)}))}return _createClass(t,[{key:"initializeNetworkEvents",value:function(){var t=this;this.network.onDisconnect().subscribe((function(){t.status.getValue()===O.Online&&(console.log("WE ARE OFFLINE"),t.updateNetworkStatus(O.Offline))})),this.network.onConnect().subscribe((function(){t.status.getValue()===O.Offline&&(console.log("WE ARE ONLINE"),t.updateNetworkStatus(O.Online))}))}},{key:"updateNetworkStatus",value:function(t){return Object(k.b)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.status.next(t),this.toastController.create({message:"You are now ".concat(t==O.Offline?"Offline":"Online"),duration:3e3,position:"bottom"}).then((function(t){return t.present()}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"onNetworkChange",value:function(){return this.status.asObservable()}},{key:"getCurrentNetworkStatus",value:function(){return this.status.getValue()}}]),t}()).\u0275fac=function(t){return new(t||a)(b.fc(m.a),b.fc(i.J),b.fc(i.F))},a.\u0275prov=b.Sb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),D=n("lJxs"),E=n("vkgz"),S=n("JIr8"),_=n("YAbo"),A=((o=function(){function t(e,n,r,a){_classCallCheck(this,t),this.http=e,this.networkService=n,this.storage=r,this.offlineManager=a}return _createClass(t,[{key:"getEvents",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.networkService.getCurrentNetworkStatus()!=O.Offline&&e?this.http.get("".concat(_.b,"/events/events")).pipe(Object(D.a)((function(t){return t})),Object(E.a)((function(e){t.log("fetched events"),t.setLocalData("events",e)})),Object(S.a)(this.handleError("getEvents",[]))):Object(l.a)(this.getLocalData("categories"))}},{key:"handleError",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"operation",n=arguments.length>1?arguments[1]:void 0;return function(r){return console.error(r),t.log("".concat(e," failed: ").concat(r.message)),Object(f.a)(n)}}},{key:"log",value:function(t){console.log(t)}},{key:"setLocalData",value:function(t,e){this.storage.set("".concat(_.a,"-").concat(t),e)}},{key:"getLocalData",value:function(t){return this.storage.get("".concat(_.a,"-").concat(t))}}]),t}()).\u0275fac=function(t){return new(t||o)(b.fc(g.b),b.fc(C),b.fc(v.b),b.fc(y))},o.\u0275prov=b.Sb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),j=n("o5fY");function N(t,e){if(1&t&&(b.bc(0,"div"),b.bc(1,"div"),b.bc(2,"ion-label"),b.yc(3),b.mc(4,"date"),b.ac(),b.bc(5,"ion-label"),b.yc(6),b.mc(7,"date"),b.ac(),b.ac(),b.ac()),2&t){var n=e.$implicit;b.Mb(3),b.zc(b.oc(4,2,n,"d","fr")),b.Mb(3),b.zc(b.oc(7,6,n,"EEEE","fr"))}}function I(t,e){1&t&&(b.bc(0,"ion-item"),b.bc(1,"ion-avatar",4),b.Xb(2,"img",5),b.ac(),b.bc(3,"ion-label"),b.bc(4,"h3"),b.yc(5,"On the politics of experience"),b.ac(),b.bc(6,"p"),b.yc(7,"Loren Williams"),b.ac(),b.bc(8,"p"),b.Xb(9,"ion-icon",6),b.yc(10," 45 min"),b.ac(),b.ac(),b.ac())}var L=function(){return[1,2]};function M(t,e){1&t&&(b.bc(0,"ion-card"),b.bc(1,"ion-item",3),b.bc(2,"ion-label"),b.bc(3,"h5"),b.yc(4,"10:00 AM"),b.ac(),b.ac(),b.ac(),b.xc(5,I,11,0,"ion-item",1),b.ac()),2&t&&(b.Mb(5),b.rc("ngForOf",b.sc(1,L)))}var F,P=function(){return[1,2,3,4]},T=((F=function(){function t(e,n,r){_classCallCheck(this,t),this.eventDataService=e,this.datePipe=n,this.router=r,this.dateBeginActive=(new Date).getDay(),this.countWeek=1,this.countselect=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.initializeDates()}},{key:"initializeDates",value:function(){this.dateBegin=this.getPreviousMonday(),this.dateEnd=new Date(this.dateBegin),this.dateEnd.setDate(this.dateEnd.getDate()+6),this.dates=[];var t=this.dateBegin,e=this.dateEnd;for(e.setDate(e.getDate()+60);t<=e;)this.dates.push(new Date(t)),t.setDate(t.getDate()+1)}},{key:"getPreviousMonday",value:function(){var t=new Date;return t.setDate(t.getDate()-(t.getDay()+6)%7),t}}]),t}()).\u0275fac=function(t){return new(t||F)(b.Wb(A),b.Wb(s.d),b.Wb(c.g))},F.\u0275cmp=b.Qb({type:F,selectors:[["app-agenda"]],decls:8,vars:4,consts:[[1,"header"],[4,"ngFor","ngForOf"],[1,"events"],["lines","none"],["slot","start"],["src","./assets/images/loren-williams.jpeg"],["name","time","size","small"]],template:function(t,e){1&t&&(b.bc(0,"app-custom-header"),b.yc(1,"AGENDA"),b.ac(),b.bc(2,"ion-content"),b.bc(3,"div",0),b.bc(4,"nav"),b.xc(5,N,8,10,"div",1),b.ac(),b.ac(),b.bc(6,"div",2),b.xc(7,M,6,2,"ion-card",1),b.ac(),b.ac()),2&t&&(b.Mb(5),b.rc("ngForOf",e.dates),b.Mb(2),b.rc("ngFor",e.card)("ngForOf",b.sc(3,P)))},directives:[j.a,i.i,s.i,i.n,i.e,i.m,i.b,i.k],pipes:[s.d],styles:[""]}),F),x=n("PCNd");n.d(e,"AgendaPageModule",(function(){return J}));var z,J=((z=function t(){_classCallCheck(this,t)}).\u0275mod=b.Ub({type:z}),z.\u0275inj=b.Tb({factory:function(t){return new(t||z)},providers:[s.d],imports:[[i.B,s.b,u.d,c.j.forChild([{path:"",component:T}]),x.a]]}),z)}}]);